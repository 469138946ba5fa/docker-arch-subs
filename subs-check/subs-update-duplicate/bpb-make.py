'''åŠŸèƒ½è¯´æ˜
æœ‰ä¸€ä¸ªåŸå§‹æ•°æ® hosts.txt æ–‡ä»¶å†…å®¹å¦‚ä¸‹
https://acc.moonfix.ir
https://de6.mamatune.top
https://www.speedtest.net
https://de4.mamatune.top
https://cfvless.betterman.xyz


å¹¶ç”Ÿæˆä¹ä¸ªæ–‡ä»¶ï¼Œç”Ÿæˆé¡ºåºå¦‚ä¸‹
bpb-vless-tls.txt
bpb-vless-tls-cfnat.txt
bpb-vless-tls-cloudflarest.txt
bpb-vless-notls.txt
bpb-vless-notls-cfnat.txt
bpb-vless-notls-cloudflarest.txt
bpb-trojan-tls.txt
bpb-trojan-tls-cfnat.txt
bpb-trojan-tls-cloudflarest.txt


æ ¹æ®é“¾æ¥æ•°*æ–‡ä»¶æ•°å¾—åˆ°æ€»æ•°é‡ 45 
æ ¹æ®æ€»æ•°å¾—çŸ¥ä¸¤ä½æ•°ï¼Œå•ä¸ªæ•°å­—å‰è¡¥ä¸Šä¸€ä¸ª0ï¼Œåé¢çš„å‡åºåºå·æ˜¯æœ‰ç”¨çš„ï¼Œæ¯”å¦‚æ€»é‡å¦‚æœæ˜¯100é‚£ä¹ˆæ•°å­—ä½æ•°ä¸º3 å•æ•°å­—è¡¥2ä¸ª0 åŒæ•°å­—è¡¥1ä¸ª0 ä¸€æ¬¡ç±»æ¨ï¼Œåé¢çš„éœ€æ±‚éœ€è¦

æ¯ä¸ªæ–‡ä»¶æœ€ç»ˆç”Ÿæˆå†…å®¹å¦‚ä¸‹
å…¶ä¸­ bpb-trojan-tls.txt bpb-trojan-tls-cfnat.txt bpb-trojan-tls-cloudflarest.txt å¥—ç”¨çš„æ¨¡æ¿å­—ç¬¦ä¸²å¦‚ä¸‹
trojan://bpb-trojan@visa.cn:443?security=tls&sni=è¿™é‡Œå¡«åŸŸå&type=ws&host=è¿™é‡Œå¡«åŸŸå&path=%2Ftr%3Fed%3D2560#BPBå¥½äºº

bpb-trojan-tls.txt æ–‡ä»¶ç”Ÿæˆå†…å®¹å¦‚ä¸‹ä¿æŒ visa.cn:443 ä¸å˜ å¹¶ä¸”å°† `#BPBå¥½äºº` æ›¿æ¢ä¸º `#bpb-trojan-tls` å¹¶é€šè¿‡ `encodeURIComponent` æœ€ç»ˆè½¬æ¢ä¸º `%23bpb-trojan-tls` æœ€åé™„ä¸Šå‡åºæ•°å­—ç¼–å·ï¼ŒåŠ¨æ€è¡¥0
trojan://bpb-trojan@visa.cn:443?security=tls&sni=acc.moonfix.ir&type=ws&host=acc.moonfix.ir&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls00
trojan://bpb-trojan@visa.cn:443?security=tls&sni=de6.mamatune.top&type=ws&host=de6.mamatune.top&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls01
trojan://bpb-trojan@visa.cn:443?security=tls&sni=www.speedtest.net&type=ws&host=www.speedtest.net&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls02
trojan://bpb-trojan@visa.cn:443?security=tls&sni=de4.mamatune.top&type=ws&host=de4.mamatune.top&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls03
trojan://bpb-trojan@visa.cn:443?security=tls&sni=cfvless.betterman.xyz&type=ws&host=cfvless.betterman.xyz&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls04


bpb-trojan-tls-cfnat.txt æ–‡ä»¶ç”Ÿæˆå†…å®¹å¦‚ä¸‹å¹¶æ›¿æ¢ visa.cn:443 ä¸º 192.168.255.253:1234 å¹¶ä¸”å°† `#BPBå¥½äºº` æ›¿æ¢ä¸º `#bpb-trojan-tls-cfnat` å¹¶é€šè¿‡ `encodeURIComponent` æœ€ç»ˆè½¬æ¢ä¸º `%23bpb-trojan-tls-cfnat` æœ€åé™„ä¸Šå‡åºæ•°å­—ç¼–å·ï¼ŒåŠ¨æ€è¡¥0ï¼Œå¹¶æ¥ä¸Šä¸Šä¸ªæ–‡ä»¶çš„æ•°å­—ç¼–å·ç»“å°¾
trojan://bpb-trojan@192.168.255.253:1234?security=tls&sni=acc.moonfix.ir&type=ws&host=acc.moonfix.ir&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cfnat05
trojan://bpb-trojan@192.168.255.253:1234?security=tls&sni=de6.mamatune.top&type=ws&host=de6.mamatune.top&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cfnat06
trojan://bpb-trojan@192.168.255.253:1234?security=tls&sni=www.speedtest.net&type=ws&host=www.speedtest.net&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cfnat07
trojan://bpb-trojan@192.168.255.253:1234?security=tls&sni=de4.mamatune.top&type=ws&host=de4.mamatune.top&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cfnat08
trojan://bpb-trojan@192.168.255.253:1234?security=tls&sni=cfvless.betterman.xyz&type=ws&host=cfvless.betterman.xyz&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cfnat09


bpb-trojan-tls-cloudflarest.txt æ–‡ä»¶ç”Ÿæˆå†…å®¹å¦‚ä¸‹å¹¶æ›¿æ¢ visa.cn:443 ä¸º 104.27.4.153:443 å¹¶ä¸”å°† `#BPBå¥½äºº` æ›¿æ¢ä¸º `#bpb-trojan-tls-cloudflarest` å¹¶é€šè¿‡ `encodeURIComponent` æœ€ç»ˆè½¬æ¢ä¸º `%23bpb-trojan-tls-cloudflarest` æœ€åé™„ä¸Šå‡åºæ•°å­—ç¼–å·ï¼ŒåŠ¨æ€è¡¥0ï¼Œå¹¶æ¥ä¸Šä¸Šä¸ªæ–‡ä»¶çš„æ•°å­—ç¼–å·ç»“å°¾
trojan://bpb-trojan@104.27.4.153:443?security=tls&sni=acc.moonfix.ir&type=ws&host=acc.moonfix.ir&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cloudflarest10
trojan://bpb-trojan@104.27.4.153:443?security=tls&sni=de6.mamatune.top&type=ws&host=de6.mamatune.top&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cloudflarest11
trojan://bpb-trojan@104.27.4.153:443?security=tls&sni=www.speedtest.net&type=ws&host=www.speedtest.net&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cloudflarest12
trojan://bpb-trojan@104.27.4.153:443?security=tls&sni=de4.mamatune.top&type=ws&host=de4.mamatune.top&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cloudflarest13
trojan://bpb-trojan@104.27.4.153:443?security=tls&sni=cfvless.betterman.xyz&type=ws&host=cfvless.betterman.xyz&path=%2Ftr%3Fed%3D2560%23bpb-trojan-tls-cloudflarest14


å…¶ä¸­ bpb-vless-notls.txt bpb-vless-notls-cfnat.txt bpb-vless-notls-cloudflarest.txt å¥—ç”¨çš„æ¨¡æ¿å­—ç¬¦ä¸²å¦‚ä¸‹
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:80?encryption=none&security=none&type=ws&host=è¿™é‡Œå¡«åŸŸå&path=%3Fed%3D2560#BPBå¥½äºº

bpb-vless-notls.txt æ–‡ä»¶ç”Ÿæˆå†…å®¹å¦‚ä¸‹ä¿æŒ visa.cn:443 ä¸å˜ å¹¶ä¸”å°† `#BPBå¥½äºº` æ›¿æ¢ä¸º `#bpb-vless-notls` å¹¶é€šè¿‡ `encodeURIComponent` æœ€ç»ˆè½¬æ¢ä¸º `%23bpb-vless-notls` æœ€åé™„ä¸Šå‡åºæ•°å­—ç¼–å·ï¼ŒåŠ¨æ€è¡¥0ï¼Œå¹¶æ¥ä¸Šä¸Šä¸ªæ–‡ä»¶çš„æ•°å­—ç¼–å·ç»“å°¾
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:80?encryption=none&security=none&type=ws&host=acc.moonfix.ir&path=%3Fed%3D2560%23bpb-vless-notls15
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:80?encryption=none&security=none&type=ws&host=de6.mamatune.top&path=%3Fed%3D2560%23bpb-vless-notls16
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:80?encryption=none&security=none&type=ws&host=www.speedtest.net&path=%3Fed%3D2560%23bpb-vless-notls17
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:80?encryption=none&security=none&type=ws&host=de4.mamatune.top&path=%3Fed%3D2560%23bpb-vless-notls18
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:80?encryption=none&security=none&type=ws&host=cfvless.betterman.xyz&path=%3Fed%3D2560%23bpb-vless-notls19


bpb-vless-notls-cfnat.txt æ–‡ä»¶ç”Ÿæˆå†…å®¹å¦‚ä¸‹å¹¶æ›¿æ¢ visa.cn:443 ä¸º 192.168.255.253:1234 å¹¶ä¸”å°† `#BPBå¥½äºº` æ›¿æ¢ä¸º `#bpb-vless-notls-cfnat` å¹¶é€šè¿‡ `encodeURIComponent` æœ€ç»ˆè½¬æ¢ä¸º `%23bpb-vless-notls-cfnat` æœ€åé™„ä¸Šå‡åºæ•°å­—ç¼–å·ï¼ŒåŠ¨æ€è¡¥0ï¼Œå¹¶æ¥ä¸Šä¸Šä¸ªæ–‡ä»¶çš„æ•°å­—ç¼–å·ç»“å°¾
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=none&type=ws&host=acc.moonfix.ir&path=%3Fed%3D2560%23bpb-vless-notls-cfnat20
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=none&type=ws&host=de6.mamatune.top&path=%3Fed%3D2560%23bpb-vless-notls-cfnat21
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=none&type=ws&host=www.speedtest.net&path=%3Fed%3D2560%23bpb-vless-notls-cfnat22
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=none&type=ws&host=de4.mamatune.top&path=%3Fed%3D2560%23bpb-vless-notls-cfnat23
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=none&type=ws&host=cfvless.betterman.xyz&path=%3Fed%3D2560%23bpb-vless-notls-cfnat24


bpb-vless-notls-cloudflarest.txt æ–‡ä»¶ç”Ÿæˆå†…å®¹å¦‚ä¸‹å¹¶æ›¿æ¢ visa.cn:443 ä¸º 104.27.4.153:443 å¹¶ä¸”å°† `#BPBå¥½äºº` æ›¿æ¢ä¸º `#bpb-vless-notls-cloudflarest` å¹¶é€šè¿‡ `encodeURIComponent` æœ€ç»ˆè½¬æ¢ä¸º `%23bpb-vless-notls-cloudflarest` æœ€åé™„ä¸Šå‡åºæ•°å­—ç¼–å·ï¼ŒåŠ¨æ€è¡¥0ï¼Œå¹¶æ¥ä¸Šä¸Šä¸ªæ–‡ä»¶çš„æ•°å­—ç¼–å·ç»“å°¾
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=none&type=ws&host=acc.moonfix.ir&path=%3Fed%3D2560%23bpb-vless-notls-cloudflarest25
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=none&type=ws&host=de6.mamatune.top&path=%3Fed%3D2560%23bpb-vless-notls-cloudflarest26
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=none&type=ws&host=www.speedtest.net&path=%3Fed%3D2560%23bpb-vless-notls-cloudflarest27
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=none&type=ws&host=de4.mamatune.top&path=%3Fed%3D2560%23bpb-vless-notls-cloudflarest28
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=none&type=ws&host=cfvless.betterman.xyz&path=%3Fed%3D2560%23bpb-vless-notls-cloudflarest29


å…¶ä¸­ bpb-vless-tls.txt bpb-vless-tls-cfnat.txt bpb-vless-tls-cloudflarest.txt å¥—ç”¨çš„æ¨¡æ¿å­—ç¬¦ä¸²å¦‚ä¸‹
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:443?encryption=none&security=tls&sni=è¿™é‡Œå¡«åŸŸå&type=ws&host=è¿™é‡Œå¡«åŸŸå&path=%3Fed%3D2560#BPBå¥½äºº

bpb-vless-tls.txt æ–‡ä»¶ç”Ÿæˆå†…å®¹å¦‚ä¸‹ä¿æŒ visa.cn:443 ä¸å˜ å¹¶ä¸”å°† `#BPBå¥½äºº` æ›¿æ¢ä¸º `#bpb-vless-tls` å¹¶é€šè¿‡ `encodeURIComponent` æœ€ç»ˆè½¬æ¢ä¸º `%23bpb-vless-tls` æœ€åé™„ä¸Šå‡åºæ•°å­—ç¼–å·ï¼ŒåŠ¨æ€è¡¥0ï¼Œå¹¶æ¥ä¸Šä¸Šä¸ªæ–‡ä»¶çš„æ•°å­—ç¼–å·ç»“å°¾
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:443?encryption=none&security=tls&sni=acc.moonfix.ir&type=ws&host=acc.moonfix.ir&path=%3Fed%3D2560%23bpb-vless-tls30
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:443?encryption=none&security=tls&sni=de6.mamatune.top&type=ws&host=de6.mamatune.top&path=%3Fed%3D2560%23bpb-vless-tls31
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:443?encryption=none&security=tls&sni=www.speedtest.net&type=ws&host=www.speedtest.net&path=%3Fed%3D2560%23bpb-vless-tls32
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:443?encryption=none&security=tls&sni=de4.mamatune.top&type=ws&host=de4.mamatune.top&path=%3Fed%3D2560%23bpb-vless-tls33
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@visa.cn:443?encryption=none&security=tls&sni=cfvless.betterman.xyz&type=ws&host=cfvless.betterman.xyz&path=%3Fed%3D2560%23bpb-vless-tls34


bpb-vless-tls-cfnat.txt æ–‡ä»¶ç”Ÿæˆå†…å®¹å¦‚ä¸‹å¹¶æ›¿æ¢ visa.cn:443 ä¸º 192.168.255.253:1234 å¹¶ä¸”å°† `#BPBå¥½äºº` æ›¿æ¢ä¸º `#bpb-vless-tls-cfnat` å¹¶é€šè¿‡ `encodeURIComponent` æœ€ç»ˆè½¬æ¢ä¸º `%23bpb-vless-tls-cfnat` æœ€åé™„ä¸Šå‡åºæ•°å­—ç¼–å·ï¼ŒåŠ¨æ€è¡¥0ï¼Œå¹¶æ¥ä¸Šä¸Šä¸ªæ–‡ä»¶çš„æ•°å­—ç¼–å·ç»“å°¾
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=tls&sni=acc.moonfix.ir&type=ws&host=acc.moonfix.ir&path=%3Fed%3D2560%23bpb-vless-tls-cfnat35
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=tls&sni=de6.mamatune.top&type=ws&host=de6.mamatune.top&path=%3Fed%3D2560%23bpb-vless-tls-cfnat36
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=tls&sni=www.speedtest.net&type=ws&host=www.speedtest.net&path=%3Fed%3D2560%23bpb-vless-tls-cfnat37
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=tls&sni=de4.mamatune.top&type=ws&host=de4.mamatune.top&path=%3Fed%3D2560%23bpb-vless-tls-cfnat38
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@192.168.255.253:1234?encryption=none&security=tls&sni=cfvless.betterman.xyz&type=ws&host=cfvless.betterman.xyz&path=%3Fed%3D2560%23bpb-vless-tls-cfnat39


bpb-vless-tls-cloudflarest.txt æ–‡ä»¶ç”Ÿæˆå†…å®¹å¦‚ä¸‹å¹¶æ›¿æ¢ visa.cn:443 ä¸º 104.27.4.153:443 å¹¶ä¸”å°† `#BPBå¥½äºº` æ›¿æ¢ä¸º `#bpb-vless-tls-cloudflarest` å¹¶é€šè¿‡ `encodeURIComponent` æœ€ç»ˆè½¬æ¢ä¸º `%23bpb-vless-tls-cloudflarest` æœ€åé™„ä¸Šå‡åºæ•°å­—ç¼–å·ï¼ŒåŠ¨æ€è¡¥0ï¼Œå¹¶æ¥ä¸Šä¸Šä¸ªæ–‡ä»¶çš„æ•°å­—ç¼–å·ç»“å°¾
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=tls&sni=acc.moonfix.ir&type=ws&host=acc.moonfix.ir&path=%3Fed%3D2560%23bpb-vless-tls-cloudflarest40
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=tls&sni=de6.mamatune.top&type=ws&host=de6.mamatune.top&path=%3Fed%3D2560%23bpb-vless-tls-cloudflarest41
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=tls&sni=www.speedtest.net&type=ws&host=www.speedtest.net&path=%3Fed%3D2560%23bpb-vless-tls-cloudflarest42
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=tls&sni=de4.mamatune.top&type=ws&host=de4.mamatune.top&path=%3Fed%3D2560%23bpb-vless-tls-cloudflarest43
vless://89b3cbba-e6ac-485a-9481-976a0415eab9@104.27.4.153:443?encryption=none&security=tls&sni=cfvless.betterman.xyz&type=ws&host=cfvless.betterman.xyz&path=%3Fed%3D2560%23bpb-vless-tls-cloudflarest44
'''

from pathlib import Path
from urllib.parse import quote

# ğŸ§© å‚æ•°é›†ä¸­å®šä¹‰
UUID = "89b3cbba-e6ac-485a-9481-976a0415eab9"
TROJAN_PWD = "bpb-trojan"

ADDRS = {
    "visa_tls": "visa.cn:443",
    "visa_notls": "visa.cn:80",
    "cfnat": "192.168.255.253:1234",
    "cloudflare": "104.16.38.129:443",
}

SECURITY = {
    "tls": "security=tls",
    "notls": "security=none",
}

# âœ¨ æ¨¡æ¿ç”Ÿæˆå™¨ï¼ˆVLESS / Trojanï¼‰
def make_vless(addr_key, sec_key, tag_name):
    return (
        f"vless://{UUID}@{ADDRS[addr_key]}?encryption=none&{SECURITY[sec_key]}"
        f"&sni={{d}}&type=ws&host={{d}}&path=%3Fed%3D2560#{{tag}}"
    ), tag_name

def make_trojan(addr_key, tag_name):
    return (
        f"trojan://{TROJAN_PWD}@{ADDRS[addr_key]}?security=tls"
        f"&sni={{d}}&type=ws&host={{d}}&path=%2Ftr%3Fed%3D2560#{{tag}}"
    ), tag_name

# ğŸ“ æ‰€æœ‰è¾“å‡ºç›®æ ‡ä¸æ¨¡æ¿ç»„åˆ
configurations = [
    ("bpb-vless-tls.txt",               *make_vless("visa_tls", "tls", "bpb-vless-tls")),
    ("bpb-vless-tls-cfnat.txt",         *make_vless("cfnat", "tls", "bpb-vless-tls-cfnat")),
    ("bpb-vless-tls-cloudflarest.txt", *make_vless("cloudflare", "tls", "bpb-vless-tls-cloudflarest")),
    ("bpb-vless-notls.txt",            *make_vless("visa_notls", "notls", "bpb-vless-notls")),
    ("bpb-vless-notls-cfnat.txt",      *make_vless("cfnat", "notls", "bpb-vless-notls-cfnat")),
    ("bpb-vless-notls-cloudflarest.txt",*make_vless("cloudflare", "notls", "bpb-vless-notls-cloudflarest")),
    ("bpb-trojan-tls.txt",              *make_trojan("visa_tls", "bpb-trojan-tls")),
    ("bpb-trojan-tls-cfnat.txt",        *make_trojan("cfnat", "bpb-trojan-tls-cfnat")),
    ("bpb-trojan-tls-cloudflarest.txt", *make_trojan("cloudflare", "bpb-trojan-tls-cloudflarest")),
]

# ğŸŒ è¯»å–åŸŸå
with open("hosts.txt", "r", encoding="utf-8") as f:
    domains = [line.strip().replace("https://", "") for line in f if line.strip()]

# ğŸš€ ç”Ÿæˆé…ç½®
total = len(domains) * len(configurations)
width = len(str(total))
index = 0

for filename, template, tag in configurations:
    lines = []
    for domain in domains:
        tag_encoded = quote(f"#{tag}{str(index).zfill(width)}")
        lines.append(template.format(d=domain, tag=tag_encoded))
        index += 1
    Path(filename).write_text("\n".join(lines), encoding="utf-8")

print("âœ”ï¸ æ‰€æœ‰é…ç½®ç”Ÿæˆå®Œæ¯•")